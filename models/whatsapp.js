function _0x1cab(_0x33c393,_0x5b827b){const _0x3a5804=_0x3a58();return _0x1cab=function(_0x1cab95,_0x1050e8){_0x1cab95=_0x1cab95-0x13d;let _0x40bf72=_0x3a5804[_0x1cab95];return _0x40bf72;},_0x1cab(_0x33c393,_0x5b827b);}const _0x1e8304=_0x1cab;(function(_0x2b9ad4,_0x24c8ac){const _0x2295a7=_0x1cab,_0x5f2553=_0x2b9ad4();while(!![]){try{const _0x49650d=-parseInt(_0x2295a7(0x189))/0x1+parseInt(_0x2295a7(0x232))/0x2*(parseInt(_0x2295a7(0x21f))/0x3)+-parseInt(_0x2295a7(0x1b1))/0x4*(parseInt(_0x2295a7(0x1a8))/0x5)+-parseInt(_0x2295a7(0x22f))/0x6*(parseInt(_0x2295a7(0x1bd))/0x7)+-parseInt(_0x2295a7(0x1a7))/0x8*(-parseInt(_0x2295a7(0x190))/0x9)+parseInt(_0x2295a7(0x187))/0xa*(-parseInt(_0x2295a7(0x1e6))/0xb)+parseInt(_0x2295a7(0x1fd))/0xc*(parseInt(_0x2295a7(0x149))/0xd);if(_0x49650d===_0x24c8ac)break;else _0x5f2553['push'](_0x5f2553['shift']());}catch(_0x1d9129){_0x5f2553['push'](_0x5f2553['shift']());}}}(_0x3a58,0x87f5e));import{rmSync,readdir,writeFileSync,readFileSync,existsSync}from'fs';import{join}from'path';import _0x4f96e2 from'pino';import _0x3bbb2f,{useMultiFileAuthState,fetchLatestBaileysVersion,makeCacheableSignalKeyStore,makeInMemoryStore,isJidGroup,DisconnectReason,getContentType,delay}from'@adiwajshing/baileys';import{toDataURL}from'qrcode';import _0x1e3ba2 from'./dirname.js';import _0x7485e3 from'./response.js';import _0x4fb517 from'mysql2';import _0x3820ac from'node-fetch';const db=_0x4fb517[_0x1e8304(0x1bc)]({'host':process[_0x1e8304(0x21c)][_0x1e8304(0x1e2)],'user':process[_0x1e8304(0x21c)][_0x1e8304(0x17a)],'password':process['env'][_0x1e8304(0x1be)],'database':process['env'][_0x1e8304(0x1cd)],'charset':_0x1e8304(0x1c8),'multipleStatements':!![],'timezone':_0x1e8304(0x1f5)});import _0x41450a from'./../controllers/database.js';import{Enc,FileEncryptor}from'./../controllers/enc.js';import{ChatGPTAPI}from'chatgpt';let dbjson=new _0x41450a(_0x1e8304(0x1c2));if(!dbjson['getAll'](_0x1e8304(0x1b8)))dbjson['createTable'](_0x1e8304(0x1b8));else{if(!dbjson[_0x1e8304(0x1d8)]('settingServer'))dbjson[_0x1e8304(0x15b)](_0x1e8304(0x154));else{if(!dbjson[_0x1e8304(0x1d8)](_0x1e8304(0x16e)))dbjson['createTable'](_0x1e8304(0x16e));else!dbjson[_0x1e8304(0x1d8)](_0x1e8304(0x19e))&&dbjson[_0x1e8304(0x15b)](_0x1e8304(0x19e));}}const enc=new Enc(dbjson[_0x1e8304(0x1b0)](_0x1e8304(0x154),0x1)['secretKey'],dbjson[_0x1e8304(0x1b0)](_0x1e8304(0x154),0x1)['iv']),chatgpt=new ChatGPTAPI({'apiKey':dbjson[_0x1e8304(0x1b0)](_0x1e8304(0x154),0x1)[_0x1e8304(0x198)],'completionParams':{'temperature':0.5,'top_p':0.8}});import{Server}from'socket.io';const io=new Server(0x1f43);import{createCanvas,loadImage}from'canvas';db[_0x1e8304(0x1a5)](()=>{const _0x66de87=_0x1e8304;console[_0x66de87(0x14e)]('Database\x20Connected...');});const sessions=new Map(),retries=new Map(),sessionsDir=(_0x1e61aa='')=>{const _0x4ab256=_0x1e8304;return join(_0x1e3ba2,_0x4ab256(0x1bf),_0x1e61aa?_0x1e61aa:'');},isSessionExists=_0x12f16f=>{const _0xad9b28=_0x1e8304;return sessions[_0xad9b28(0x185)](_0x12f16f);},shouldReconnect=_0x9b1ebc=>{const _0xc0eb3f=_0x1e8304;let _0x182acb=parseInt(process['env']['MAX_RETRIES']??0x0),_0xc55c58=retries['get'](_0x9b1ebc)??0x0;_0x182acb=_0x182acb<0x1?0x1:_0x182acb;if(_0xc55c58<_0x182acb)return++_0xc55c58,console[_0xc0eb3f(0x14e)](_0xc0eb3f(0x1b2),{'attempts':_0xc55c58,'sessionId':_0x9b1ebc}),retries[_0xc0eb3f(0x1b5)](_0x9b1ebc,_0xc55c58),!![];return![];},createSession=async(_0x47df1d,_0xd38a0c=![],_0x392c76=null)=>{const _0x4fbc23=_0x1e8304,_0x16aaec=_0x4fbc23(0x1ca)+_0x47df1d,_0x41da4b=_0x4f96e2({'level':_0x4fbc23(0x1c5)}),_0x2f4bb1=makeInMemoryStore({'logger':_0x41da4b}),_0x5266a1={},{version:_0x195f4c,isLatest:_0x30a830}=await fetchLatestBaileysVersion();let _0x3326c,_0x24fe63;({state:_0x3326c,saveCreds:_0x24fe63}=await useMultiFileAuthState(sessionsDir(_0x16aaec)));const _0x49f340={'auth':{'creds':_0x3326c[_0x4fbc23(0x14a)],'keys':makeCacheableSignalKeyStore(_0x3326c[_0x4fbc23(0x1d3)],_0x41da4b)},'printQRInTerminal':![],'defaultQueryTimeoutMs':undefined,'syncFullHistory':!![],'logger':_0x41da4b,'version':_0x195f4c,'msgRetryCounterMap':_0x5266a1,'generateHighQualityLinkPreview':!![],'browser':[_0x4fbc23(0x172),_0x4fbc23(0x213),'3.4.0'],'patchMessageBeforeSending':_0x41fbe9=>{const _0x53ed9b=_0x4fbc23,_0x545904=!!(_0x41fbe9['buttonsMessage']||_0x41fbe9[_0x53ed9b(0x196)]||_0x41fbe9[_0x53ed9b(0x228)]);return _0x545904&&(_0x41fbe9={'viewOnceMessage':{'message':{'messageContextInfo':{'deviceListMetadataVersion':0x2,'deviceListMetadata':{}},..._0x41fbe9}}}),_0x41fbe9;},'getMessage':async _0x347a78=>{const _0x55ae8b=_0x4fbc23;if(_0x2f4bb1){const _0x34a628=await _0x2f4bb1['loadMessage'](_0x347a78[_0x55ae8b(0x188)],_0x347a78['id']);return _0x34a628?.[_0x55ae8b(0x1c6)]||undefined;}return{'conversation':_0x55ae8b(0x194)};}},_0xc722a0=_0x3bbb2f['default'](_0x49f340);_0x2f4bb1[_0x4fbc23(0x1b4)](sessionsDir(_0x47df1d+_0x4fbc23(0x1eb))),_0x2f4bb1[_0x4fbc23(0x151)](_0xc722a0['ev']),sessions[_0x4fbc23(0x1b5)](_0x47df1d,{..._0xc722a0,'store':_0x2f4bb1,'isLegacy':_0xd38a0c}),_0xc722a0['ev']['on'](_0x4fbc23(0x1b6),_0x24fe63),_0xc722a0['ev']['on'](_0x4fbc23(0x1cb),({chats:_0x82afbc})=>{const _0x3e6b47=_0x4fbc23;_0xd38a0c&&_0x2f4bb1[_0x3e6b47(0x1f4)]['insertIfAbsent'](..._0x82afbc);}),_0xc722a0['ev']['on'](_0x4fbc23(0x184),async _0x11bc55=>{const _0xf859e4=_0x4fbc23,_0x61afcc=_0x11bc55['messages'][0x0],_0x2ab6a5=_0x61afcc[_0xf859e4(0x21b)][_0xf859e4(0x188)];let _0x10173d=_0xc722a0[_0xf859e4(0x13e)]=_0x61afcc['pushName'],_0x13e5a9=isJidGroup(_0x2ab6a5);const _0x19b60d=getContentType(_0x61afcc['message']),_0xe94484=_0x19b60d===_0xf859e4(0x179)?_0x61afcc[_0xf859e4(0x1c6)]['conversation']:_0x19b60d==='imageMessage'?_0x61afcc[_0xf859e4(0x1c6)][_0xf859e4(0x1e8)][_0xf859e4(0x22c)]:_0x19b60d===_0xf859e4(0x217)&&_0x61afcc[_0xf859e4(0x1c6)]['documentMessage'][_0xf859e4(0x22c)]?_0x61afcc[_0xf859e4(0x1c6)][_0xf859e4(0x217)][_0xf859e4(0x22c)]:_0x19b60d===_0xf859e4(0x1d2)?_0x61afcc['message']['videoMessage'][_0xf859e4(0x22c)]:_0x19b60d==='extendedTextMessage'?_0x61afcc[_0xf859e4(0x1c6)][_0xf859e4(0x16a)]['text']:_0x19b60d===_0xf859e4(0x206)?_0x61afcc[_0xf859e4(0x1c6)][_0xf859e4(0x206)][_0xf859e4(0x202)]:_0x19b60d==='listResponseMessage'?_0x61afcc[_0xf859e4(0x1c6)][_0xf859e4(0x1d1)]['singleSelectReply'][_0xf859e4(0x20c)]:_0x19b60d===_0xf859e4(0x160)?_0x61afcc['message']['templateButtonReplyMessage'][_0xf859e4(0x14d)]:_0x19b60d===_0xf859e4(0x178)?_0x61afcc['message'][_0xf859e4(0x1d1)][_0xf859e4(0x1a2)]['selectedRowId']||_0x61afcc[_0xf859e4(0x1c6)][_0xf859e4(0x206)][_0xf859e4(0x202)]||_0x61afcc[_0xf859e4(0x15d)]:'',_0x3f02d9=_0xe94484;if(!_0x61afcc['key'][_0xf859e4(0x1a4)]&&_0x11bc55['type']===_0xf859e4(0x219)){let _0x224c9c=formatPhoneRemove(_0x2ab6a5)==_0xf859e4(0x1af)||formatPhoneRemove(_0x2ab6a5)==undefined?_0x2ab6a5:formatPhoneRemove(_0x2ab6a5);if(_0x224c9c!=_0xf859e4(0x1c4)){const _0x41c351=_0xe94484['trim']()[_0xf859e4(0x18a)](/ +/)[_0xf859e4(0x1aa)](),_0x109660=_0xe94484[_0xf859e4(0x1fc)](_0xe94484[_0xf859e4(0x214)]('\x20')+0x1);let _0x475a40=dbjson[_0xf859e4(0x1db)](_0xf859e4(0x19e),{'device':_0x47df1d});_0x475a40['forEach'](async _0x419055=>{const _0x3a6f66=_0xf859e4;if(_0x419055[_0x3a6f66(0x1ae)]['ai_chat']==!![])switch(_0x41c351){case _0x3a6f66(0x146):const _0x3d6585=await chatgpt[_0x3a6f66(0x1e3)](_0x109660),_0xbfee4a=[[_0x3a6f66(0x1d7),_0x3a6f66(0x22e)],[_0x3a6f66(0x223),_0x3a6f66(0x18f)]],_0xdb257b=_0xbfee4a[_0x3a6f66(0x1ee)]((_0x82563f,[_0x1e9b21,_0x4b4265])=>{return _0x82563f['replaceAll'](_0x1e9b21,_0x4b4265);},_0x3d6585[_0x3a6f66(0x15d)]);sendMessageText(_0xc722a0,_0x2ab6a5,_0xdb257b,0x7d0);break;}}),dbjson[_0xf859e4(0x1d0)](_0xf859e4(0x16e),{'pushname':_0x10173d,'from':_0x224c9c,'body':enc[_0xf859e4(0x1e9)](_0xe94484),'sessionId':_0x47df1d,'key':_0x61afcc[_0xf859e4(0x21b)],'timestamp':_0x61afcc[_0xf859e4(0x226)]}),db['execute'](_0xf859e4(0x168),[_0x47df1d],function(_0x321e60,_0x157fd2,_0x59f1f9){_0x157fd2['forEach'](_0x56b142=>{const _0x563706=_0x1cab,_0x470aed=_0x563706(0x158),_0x39227a=[_0x10173d,_0x224c9c,_0xe94484,_0x10173d,_0x47df1d,_0x56b142['username']];db['execute'](_0x470aed,_0x39227a);});});}db[_0xf859e4(0x20f)](_0xf859e4(0x174),[_0x47df1d],function(_0x16e8f1,_0x1d1f47,_0x1b42c3){const _0x518665=_0xf859e4;_0x1d1f47[_0x518665(0x181)](_0x26691f=>{const _0x36420e=_0x518665;_0x26691f[_0x36420e(0x199)]!==''&&webhook(_0x2ab6a5,_0x3f02d9,_0x61afcc,_0xc722a0,_0x26691f[_0x36420e(0x199)]);});}),db['execute'](_0xf859e4(0x163),[_0x3f02d9,_0x47df1d],function(_0x39cc9f,_0x281d9f,_0x31e9f2){const _0x5e7af7=_0xf859e4;_0x281d9f[_0x5e7af7(0x181)](_0x275d32=>{const _0x5d04c1=_0x5e7af7;if(_0x275d32['jid']===_0x47df1d){let _0x717edb=[_0x5d04c1(0x207)],_0xee51f4=[_0x10173d];_0x275d32[_0x5d04c1(0x1c0)]=_0x275d32['response'][_0x5d04c1(0x150)](_0x717edb,_0xee51f4);if(_0x275d32[_0x5d04c1(0x186)]==0x1){if(_0x275d32[_0x5d04c1(0x19a)]==0x0){if(_0x275d32[_0x5d04c1(0x1ce)]==_0x5d04c1(0x224))sendMessageText(_0xc722a0,_0x2ab6a5,_0x275d32[_0x5d04c1(0x1c0)],_0x275d32[_0x5d04c1(0x1fb)]);else{if(_0x275d32[_0x5d04c1(0x1ce)]==_0x5d04c1(0x148)&&_0x13e5a9==!![])sendMessageText(_0xc722a0,_0x2ab6a5,_0x275d32[_0x5d04c1(0x1c0)],_0x275d32[_0x5d04c1(0x1fb)]);else _0x275d32['target']==_0x5d04c1(0x1a9)&&_0x13e5a9==![]&&sendMessageText(_0xc722a0,_0x2ab6a5,_0x275d32[_0x5d04c1(0x1c0)],_0x275d32[_0x5d04c1(0x1fb)]);}}}else{if(_0x275d32[_0x5d04c1(0x186)]==0x2){const _0x336308={'url':_0x275d32[_0x5d04c1(0x1f1)],'type':_0x275d32[_0x5d04c1(0x19a)]};if(_0x275d32[_0x5d04c1(0x1ce)]==_0x5d04c1(0x224))sendMessageMedia(_0xc722a0,_0x2ab6a5,_0x275d32[_0x5d04c1(0x1c0)],_0x336308,_0x275d32[_0x5d04c1(0x1fb)]);else{if(_0x275d32['target']=='group'&&_0x13e5a9==!![])sendMessageMedia(_0xc722a0,_0x2ab6a5,_0x275d32[_0x5d04c1(0x1c0)],_0x336308,_0x275d32[_0x5d04c1(0x1fb)]);else _0x275d32[_0x5d04c1(0x1ce)]==_0x5d04c1(0x1a9)&&_0x13e5a9==![]&&sendMessageMedia(_0xc722a0,_0x2ab6a5,_0x275d32[_0x5d04c1(0x1c0)],_0x336308,_0x275d32[_0x5d04c1(0x1fb)]);}}else{if(_0x275d32[_0x5d04c1(0x186)]==0x3){const _0x5f058e={'Is':_0x275d32[_0x5d04c1(0x19a)]==0x1?!![]:![],'url':_0x275d32[_0x5d04c1(0x1f1)]},_0x191260={'caption':_0x275d32[_0x5d04c1(0x1c0)],'footer':_0x275d32[_0x5d04c1(0x152)]};let _0x222bd1;if(_0x275d32[_0x5d04c1(0x147)]!=''&&_0x275d32[_0x5d04c1(0x16d)]==''&&_0x275d32[_0x5d04c1(0x17d)]=='')_0x222bd1=[{'type':0x0,'data':_0x275d32['button1'],'text':_0x275d32[_0x5d04c1(0x147)]}];else{if(_0x275d32['button1']!=''&&_0x275d32[_0x5d04c1(0x16d)]!=''&&_0x275d32[_0x5d04c1(0x17d)]=='')_0x222bd1=[{'type':0x0,'data':_0x275d32[_0x5d04c1(0x147)],'text':_0x275d32[_0x5d04c1(0x147)]},{'type':0x0,'data':_0x275d32[_0x5d04c1(0x16d)],'text':_0x275d32[_0x5d04c1(0x16d)]}];else _0x275d32[_0x5d04c1(0x147)]==''&&_0x275d32[_0x5d04c1(0x16d)]==''&&_0x275d32[_0x5d04c1(0x17d)]==''&&(_0x222bd1=[{'type':0x0,'data':_0x275d32[_0x5d04c1(0x147)],'text':_0x275d32['button1']},{'type':0x0,'data':_0x275d32[_0x5d04c1(0x16d)],'text':_0x275d32[_0x5d04c1(0x16d)]},{'type':0x0,'data':_0x275d32['button3'],'text':_0x275d32[_0x5d04c1(0x17d)]}]);}if(_0x275d32[_0x5d04c1(0x1ce)]==_0x5d04c1(0x224))sendMessageTemplate(_0xc722a0,_0x2ab6a5,_0x191260,_0x222bd1,_0x5f058e,_0x275d32['delay']);else{if(_0x275d32[_0x5d04c1(0x1ce)]=='group'&&_0x13e5a9==!![])sendMessageTemplate(_0xc722a0,_0x2ab6a5,_0x191260,_0x222bd1,_0x5f058e,_0x275d32['delay']);else _0x275d32[_0x5d04c1(0x1ce)]==_0x5d04c1(0x1a9)&&_0x13e5a9==![]&&sendMessageTemplate(_0xc722a0,_0x2ab6a5,_0x191260,_0x222bd1,_0x5f058e,_0x275d32[_0x5d04c1(0x1fb)]);}}else{if(_0x275d32['type_message']==0x4){const _0x57e7f4={'Is':_0x275d32['media']==0x1?!![]:![],'url':_0x275d32['url']},_0x25a485={'caption':_0x275d32[_0x5d04c1(0x1c0)],'footer':_0x275d32[_0x5d04c1(0x152)]};let _0x41c84b;if(_0x275d32[_0x5d04c1(0x147)]!=''&&_0x275d32[_0x5d04c1(0x16d)]==''&&_0x275d32[_0x5d04c1(0x17d)]==''){if(_0x275d32['button1'][_0x5d04c1(0x141)]('|')){const _0x1964e3=_0x275d32[_0x5d04c1(0x147)][_0x5d04c1(0x18a)]('|');_0x1964e3[_0x5d04c1(0x156)]==0x3?_0x41c84b=[{'type':_0x1964e3[0x0],'data':_0x1964e3[0x2],'text':_0x1964e3[0x1]}]:_0x41c84b=[];}else _0x41c84b=[];}else{if(_0x275d32[_0x5d04c1(0x147)]!=''&&_0x275d32[_0x5d04c1(0x16d)]!=''&&_0x275d32[_0x5d04c1(0x17d)]==''){if(_0x275d32[_0x5d04c1(0x147)][_0x5d04c1(0x141)]('|')&&_0x275d32[_0x5d04c1(0x16d)][_0x5d04c1(0x141)]('|')){const _0x50302a=_0x275d32['button1'][_0x5d04c1(0x18a)]('|'),_0x25623a=_0x275d32[_0x5d04c1(0x16d)][_0x5d04c1(0x18a)]('|');_0x50302a[_0x5d04c1(0x156)]==0x3&&_0x25623a[_0x5d04c1(0x156)]==0x3?_0x41c84b=[{'type':_0x50302a[0x0],'data':_0x50302a[0x2],'text':_0x50302a[0x1]},{'type':_0x25623a[0x0],'data':_0x25623a[0x2],'text':_0x25623a[0x1]}]:_0x41c84b=[];}else _0x41c84b=[];}else{if(_0x275d32[_0x5d04c1(0x147)]==''&&_0x275d32[_0x5d04c1(0x16d)]==''&&_0x275d32[_0x5d04c1(0x17d)]==''){if(_0x275d32[_0x5d04c1(0x147)][_0x5d04c1(0x141)]('|')&&_0x275d32[_0x5d04c1(0x16d)][_0x5d04c1(0x141)]('|')&&_0x275d32[_0x5d04c1(0x17d)]['includes']('|')){const _0x14dbae=_0x275d32[_0x5d04c1(0x147)][_0x5d04c1(0x18a)]('|'),_0x585ac5=_0x275d32[_0x5d04c1(0x16d)][_0x5d04c1(0x18a)]('|'),_0x5cc959=_0x275d32[_0x5d04c1(0x17d)][_0x5d04c1(0x18a)]('|');_0x14dbae['length']==0x3&&_0x585ac5[_0x5d04c1(0x156)]==0x3&&_0x5cc959[_0x5d04c1(0x156)]==0x3?_0x41c84b=[{'type':_0x14dbae[0x0],'data':_0x14dbae[0x2],'text':_0x14dbae[0x1]},{'type':_0x585ac5[0x0],'data':_0x585ac5[0x2],'text':_0x585ac5[0x1]},{'type':_0x5cc959[0x0],'data':_0x5cc959[0x2],'text':_0x5cc959[0x1]}]:_0x41c84b=[];}else _0x41c84b=[];}}}if(_0x275d32[_0x5d04c1(0x1ce)]==_0x5d04c1(0x224))sendMessageTemplate(_0xc722a0,_0x2ab6a5,_0x25a485,_0x41c84b,_0x57e7f4,_0x275d32['delay']);else{if(_0x275d32[_0x5d04c1(0x1ce)]=='group'&&_0x13e5a9==!![])sendMessageTemplate(_0xc722a0,_0x2ab6a5,_0x25a485,_0x41c84b,_0x57e7f4,_0x275d32[_0x5d04c1(0x1fb)]);else _0x275d32['target']=='personal'&&_0x13e5a9==![]&&sendMessageTemplate(_0xc722a0,_0x2ab6a5,_0x25a485,_0x41c84b,_0x57e7f4,_0x275d32[_0x5d04c1(0x1fb)]);}}else{if(_0x275d32[_0x5d04c1(0x186)]==0x5){const _0x29b15d={'url':_0x275d32[_0x5d04c1(0x1f1)],'type':_0x275d32[_0x5d04c1(0x19a)]};if(_0x275d32[_0x5d04c1(0x1ce)]==_0x5d04c1(0x224))sendMessageMedia(_0xc722a0,_0x2ab6a5,_0x275d32[_0x5d04c1(0x1c0)],_0x29b15d,_0x275d32[_0x5d04c1(0x1fb)]);else{if(_0x275d32[_0x5d04c1(0x1ce)]==_0x5d04c1(0x148)&&_0x13e5a9==!![])sendMessageMedia(_0xc722a0,_0x2ab6a5,_0x275d32[_0x5d04c1(0x1c0)],_0x29b15d,_0x275d32[_0x5d04c1(0x1fb)]);else _0x275d32[_0x5d04c1(0x1ce)]==_0x5d04c1(0x1a9)&&_0x13e5a9==![]&&sendMessageMedia(_0xc722a0,_0x2ab6a5,_0x275d32[_0x5d04c1(0x1c0)],_0x29b15d,_0x275d32['delay']);}}else{if(_0x275d32['type_message']==0x6){const _0x3f0f0={'url':_0x275d32['url'],'type':_0x275d32[_0x5d04c1(0x19a)]};if(_0x275d32[_0x5d04c1(0x1ce)]==_0x5d04c1(0x224))sendMessageMedia(_0xc722a0,_0x2ab6a5,_0x275d32['response'],_0x3f0f0,_0x275d32[_0x5d04c1(0x1fb)]);else{if(_0x275d32['target']=='group'&&_0x13e5a9==!![])sendMessageMedia(_0xc722a0,_0x2ab6a5,_0x275d32['response'],_0x3f0f0,_0x275d32[_0x5d04c1(0x1fb)]);else _0x275d32[_0x5d04c1(0x1ce)]==_0x5d04c1(0x1a9)&&_0x13e5a9==![]&&sendMessageMedia(_0xc722a0,_0x2ab6a5,_0x275d32[_0x5d04c1(0x1c0)],_0x3f0f0,_0x275d32['delay']);}}}}}}}}});});}}),_0xc722a0['ev']['on'](_0x4fbc23(0x1a1),async _0x2aa194=>{const _0xc8d415=_0x4fbc23;let _0x3e25d2=dbjson[_0xc8d415(0x1db)](_0xc8d415(0x1b8),{'id_group':_0x2aa194[0x0]['id'],'jid':_0x47df1d});_0x3e25d2['forEach'](_0x231f57=>{const _0x841ca8=_0xc8d415;try{dbjson['update']('fetchGroupID',{'name':_0x2aa194[0x0][_0x841ca8(0x16c)]},_0x231f57['id']);}catch(_0x2f32e8){}});}),_0xc722a0['ev']['on']('group-participants.update',async _0x319670=>{const _0x7cae3a=_0x4fbc23;let _0x16d9e4=dbjson[_0x7cae3a(0x1db)](_0x7cae3a(0x1b8),{'id_group':_0x319670['id'],'jid':_0x47df1d});_0x16d9e4[_0x7cae3a(0x181)](_0x5d8d47=>{const _0x141de1=_0x7cae3a;try{delay(0x2710)[_0x141de1(0x1cf)](async()=>{const _0x2e50c8=_0x141de1,_0x3c06fe=await _0xc722a0['groupMetadata'](_0x319670['id']);let _0x5a0c4f='';try{_0x5a0c4f=await _0xc722a0[_0x2e50c8(0x1fa)](_0x319670['id'],_0x2e50c8(0x155));}catch{_0x5a0c4f='https://i.ibb.co/khHDTHq/people-not-image.png';}dbjson['update'](_0x2e50c8(0x1b8),{'picture':_0x5a0c4f,'participant':_0x3c06fe[_0x2e50c8(0x205)]},_0x5d8d47['id']);})['catch'](_0x3d1169=>{});}catch(_0x466d0c){}});});if(existsSync(_0x4fbc23(0x144)+_0x47df1d+'/creds.json')){let _0x7ed975=dbjson['getByRow'](_0x4fbc23(0x19e),{'device':_0x47df1d});_0x7ed975[_0x4fbc23(0x156)]==0x0&&dbjson[_0x4fbc23(0x1d0)](_0x4fbc23(0x19e),{'device':_0x47df1d,'setting':{'ai_chat':![],'webhook':null},'timestamp':new Date()[_0x4fbc23(0x17c)]()});}else{let _0xad2eb1=dbjson['getByRow'](_0x4fbc23(0x19e),{'device':_0x47df1d});_0xad2eb1['forEach'](_0x5e3952=>{const _0x5eca46=_0x4fbc23;_0x5e3952[_0x5eca46(0x1cc)]==_0x47df1d&&dbjson[_0x5eca46(0x227)](_0x5eca46(0x19e),_0x5e3952['id']);});}JSON['parse'](JSON['stringify'](getChatList(_0x47df1d,!![])))[_0x4fbc23(0x181)](_0xbf8605=>{const _0x4274aa=_0x4fbc23;if(_0xbf8605['name']!=undefined){db['query'](_0x4274aa(0x1a3)+_0xbf8605['id']+_0x4274aa(0x20d)+_0x47df1d+'\x27',(_0x2c1fe,_0x208444)=>{const _0x577acb=_0x4274aa;_0x208444[_0x577acb(0x156)]==0x0&&db[_0x577acb(0x20f)]('INSERT\x20INTO\x20contact_group_fetch\x20(`name_group`,\x20`id_group`,\x20`jid`,\x20`make_by`)\x20VALUES\x20(?,?,?,?)',[_0xbf8605['name'],_0xbf8605['id'],_0x47df1d,_0x47df1d]);});let _0x61bf49=dbjson[_0x4274aa(0x1db)]('fetchGroupID',{'id_group':_0xbf8605['id'],'jid':_0x47df1d});if(_0x61bf49['length']==0x0)try{delay(0x2710)[_0x4274aa(0x1cf)](async()=>{const _0x4228be=_0x4274aa,_0x1a7f9d=await _0xc722a0[_0x4228be(0x1f7)](_0xbf8605['id']);let _0x1943c6='';try{_0x1943c6=await _0xc722a0['profilePictureUrl'](_0xbf8605['id'],_0x4228be(0x155));}catch{_0x1943c6='https://i.ibb.co/khHDTHq/people-not-image.png';}dbjson[_0x4228be(0x1d0)](_0x4228be(0x1b8),{'id_group':_0xbf8605['id'],'name':_0xbf8605[_0x4228be(0x1f2)],'jid':_0x47df1d,'picture':_0x1943c6,'participant':_0x1a7f9d[_0x4228be(0x205)]});})[_0x4274aa(0x1b9)](_0x5a8723=>{});}catch(_0x4246bb){}else _0x61bf49['forEach'](_0x39a9ab=>{const _0x1f4334=_0x4274aa;if(_0x39a9ab[_0x1f4334(0x1e5)][_0x1f4334(0x156)]==0x0)try{delay(0x2710)[_0x1f4334(0x1cf)](async()=>{const _0x29b1d8=_0x1f4334,_0x5a2110=await _0xc722a0[_0x29b1d8(0x1f7)](_0xbf8605['id']);let _0x298d62='';try{_0x298d62=await _0xc722a0[_0x29b1d8(0x1fa)](_0xbf8605['id'],_0x29b1d8(0x155));}catch{_0x298d62='https://i.ibb.co/khHDTHq/people-not-image.png';}dbjson[_0x29b1d8(0x204)](_0x29b1d8(0x1b8),{'picture':_0x298d62,'participant':_0x5a2110[_0x29b1d8(0x205)]},_0x39a9ab['id']);})[_0x1f4334(0x1b9)](_0x4b1a05=>{});}catch(_0xf10b7c){}else try{delay(0x5265c00)['then'](async()=>{const _0x37f06b=_0x1f4334,_0x479f69=await _0xc722a0[_0x37f06b(0x1f7)](_0xbf8605['id']);let _0x39db12='';try{_0x39db12=await _0xc722a0[_0x37f06b(0x1fa)](_0xbf8605['id'],_0x37f06b(0x155));}catch{_0x39db12='https://i.ibb.co/khHDTHq/people-not-image.png';}dbjson[_0x37f06b(0x204)](_0x37f06b(0x1b8),{'name':_0xbf8605[_0x37f06b(0x1f2)],'picture':_0x39db12,'participant':_0x479f69['participants']},_0x39a9ab['id']);})[_0x1f4334(0x1b9)](_0x4ae742=>{});}catch(_0x34cb69){}});}}),_0xc722a0['ev']['on'](_0x4fbc23(0x180),async _0x35b788=>{const _0x233342=_0x4fbc23,{connection:_0x4a3cd1,lastDisconnect:_0x4423a7}=_0x35b788,_0x93fab2=_0x4423a7?.['error']?.['output']?.[_0x233342(0x1ff)];_0x4a3cd1===_0x233342(0x14c)&&(retries['delete'](_0x47df1d),db[_0x233342(0x1da)](_0x233342(0x169)+_0x47df1d+'\x27',(_0x599224,_0x406d7e)=>{const _0x2275c5=_0x233342;_0x599224?console['log'](_0x599224):_0x406d7e[_0x2275c5(0x181)](_0x1718cd=>{const _0x58e29c=_0x2275c5;_0x1718cd[_0x58e29c(0x20e)]=='false'&&db['query'](_0x58e29c(0x216)+_0x47df1d+'\x27');});}),db[_0x233342(0x1da)](_0x233342(0x15a)+_0x47df1d+'\x27',(_0x3d8272,_0x176202)=>{const _0x292500=_0x233342;_0x176202[_0x292500(0x156)]>0x0&&db[_0x292500(0x1da)](_0x292500(0x195)+_0x47df1d+'\x27');}));if(_0x4a3cd1===_0x233342(0x1d6)){io[_0x233342(0x1e1)](_0x233342(0x20b),{'status':_0x233342(0x222)});if(_0x93fab2===DisconnectReason['loggedOut']||!shouldReconnect(_0x47df1d))return _0x392c76&&!_0x392c76[_0x233342(0x201)]&&_0x7485e3(_0x392c76,0x1f4,![],_0x233342(0x1e4)),deleteSession(_0x47df1d,_0xd38a0c);db[_0x233342(0x1da)]('SELECT\x20*\x20FROM\x20devices\x20WHERE\x20jid\x20=\x20\x27'+_0x47df1d+'\x27',(_0x2febea,_0x2db3b2)=>{_0x2febea?console['log'](_0x2febea):_0x2db3b2['forEach'](_0x49e8b8=>{const _0x3f7114=_0x1cab;_0x49e8b8[_0x3f7114(0x20e)]==_0x3f7114(0x142)&&db[_0x3f7114(0x1da)]('UPDATE\x20devices\x20SET\x20connected\x20=\x20\x27false\x27\x20WHERE\x20jid\x20=\x20\x27'+_0x47df1d+'\x27');});}),setTimeout(()=>{createSession(_0x47df1d,_0xd38a0c,_0x392c76);},_0x93fab2===DisconnectReason[_0x233342(0x16b)]?0x0:parseInt(process['env'][_0x233342(0x1e0)]??0x0));}if(_0x35b788['qr']){db[_0x233342(0x1da)](_0x233342(0x169)+_0x47df1d+'\x27',(_0x316108,_0x69abb)=>{_0x316108?console['log'](_0x316108):_0x69abb['forEach'](_0x533cf4=>{const _0x57682b=_0x1cab;_0x533cf4['connected']=='true'&&db[_0x57682b(0x1da)]('UPDATE\x20devices\x20SET\x20connected\x20=\x20\x27false\x27\x20WHERE\x20jid\x20=\x20\x27'+_0x47df1d+'\x27');});});const _0x135b3a=createCanvas(0x1f4,0x1f4),_0x138b13=_0x135b3a[_0x233342(0x14b)]('2d');_0x138b13[_0x233342(0x212)]=_0x233342(0x22d),_0x138b13[_0x233342(0x1c3)](),_0x138b13['lineTo'](0x1f4,0x1f4),_0x138b13[_0x233342(0x1ac)]();if(_0x392c76&&!_0x392c76[_0x233342(0x201)])try{const _0x5cb222=await loadImage(await toDataURL(_0x35b788['qr']));_0x138b13[_0x233342(0x182)](_0x5cb222,0x0,0x0,0x1f4,0x1f4);const _0x42c334=await loadImage(_0x233342(0x19f));_0x138b13['drawImage'](_0x42c334,0xc8,0xc8,0x6e,0x6e);const _0x1451bd=_0x135b3a[_0x233342(0x183)]();_0x7485e3(_0x392c76,0xc8,!![],_0x233342(0x1f0),{'qr':_0x1451bd});return;}catch{_0x7485e3(_0x392c76,0x1f4,![],_0x233342(0x18e));}else try{const _0x279964=await loadImage(await toDataURL(_0x35b788['qr']));_0x138b13[_0x233342(0x182)](_0x279964,0x0,0x0,0x1f4,0x1f4);const _0x45e277=await loadImage(_0x233342(0x19f));_0x138b13[_0x233342(0x182)](_0x45e277,0xc8,0xc8,0x6e,0x6e);const _0x14f342=_0x135b3a['toDataURL']();db['query'](_0x233342(0x15a)+_0x47df1d+'\x27',(_0x3bcc8e,_0x5b9b51)=>{const _0x46bd3f=_0x233342;_0x5b9b51[_0x46bd3f(0x156)]==0x0?db[_0x46bd3f(0x1da)](_0x46bd3f(0x1b7)+_0x47df1d+_0x46bd3f(0x165)+_0x14f342+'\x27)'):db['query']('UPDATE\x20qrcode_devices_history\x20SET\x20qr\x20=\x20\x27'+_0x14f342+_0x46bd3f(0x173)+_0x47df1d+'\x27');}),io['emit'](_0x233342(0x1ec),{'device':_0x47df1d,'url':_0x14f342});return;}catch{console[_0x233342(0x14e)](_0x233342(0x18e));}try{await _0xc722a0[_0x233342(0x19d)]();}catch{}finally{deleteSession(_0x47df1d,_0xd38a0c);}}});},init_=async _0x29f7c1=>{createSession(_0x29f7c1);};io['on'](_0x1e8304(0x1dd),function(_0x29bbda){const _0x184614=_0x1e8304;_0x29bbda['on'](_0x184614(0x192),async _0x1f388c=>{const _0x1a31ae=_0x184614;if(!isSessionExists(_0x1f388c))return await init_(_0x1f388c);else{if(existsSync(_0x1a31ae(0x144)+_0x1f388c+_0x1a31ae(0x162))){const _0xdc456a=[_0x1a31ae(0x157),_0x1a31ae(0x1bb),'Disconnecting',_0x1a31ae(0x222)],_0x60c383=getSession(_0x1f388c);let _0x5b8be6=_0xdc456a[_0x60c383['ws'][_0x1a31ae(0x210)]];io[_0x1a31ae(0x1e1)](_0x1a31ae(0x20b),{'device':_0x1f388c,'status':_0x5b8be6});let _0x4c66db=_0x60c383[_0x1a31ae(0x211)]==undefined?_0x1a31ae(0x1af):_0x60c383[_0x1a31ae(0x211)],_0xc8d86e;try{_0xc8d86e=await _0x60c383[_0x1a31ae(0x1fa)](_0x4c66db['id'],_0x1a31ae(0x155));}catch{_0xc8d86e='https://i.ibb.co/khHDTHq/people-not-image.png';}io[_0x1a31ae(0x1e1)](_0x1a31ae(0x176),{'device':_0x1f388c,'data':_0x4c66db,'profile':_0xc8d86e}),db[_0x1a31ae(0x1da)](_0x1a31ae(0x169)+_0x1f388c+'\x27',(_0xe7c075,_0x182e30)=>{const _0x1ff4d6=_0x1a31ae;_0xe7c075?console[_0x1ff4d6(0x14e)](_0xe7c075):_0x182e30[_0x1ff4d6(0x181)](_0x882ed4=>{const _0xcc2f7c=_0x1ff4d6;_0x882ed4[_0xcc2f7c(0x20e)]=='false'&&db[_0xcc2f7c(0x1da)](_0xcc2f7c(0x216)+_0x1f388c+'\x27');});});}else db[_0x1a31ae(0x1da)](_0x1a31ae(0x169)+_0x1f388c+'\x27',(_0x2e7c31,_0x90c1ed)=>{const _0x264ea7=_0x1a31ae;_0x2e7c31?console[_0x264ea7(0x14e)](_0x2e7c31):_0x90c1ed[_0x264ea7(0x181)](_0x590257=>{const _0x3e0226=_0x264ea7;_0x590257[_0x3e0226(0x20e)]==_0x3e0226(0x142)&&db[_0x3e0226(0x1da)](_0x3e0226(0x171)+_0x1f388c+'\x27');});}),io[_0x1a31ae(0x1e1)](_0x1a31ae(0x20b),{'device':_0x1f388c,'status':_0x1a31ae(0x197)}),io[_0x1a31ae(0x1e1)](_0x1a31ae(0x1ec),{'device':_0x1f388c,'url':''});}}),_0x29bbda['on'](_0x184614(0x19d),async _0x190eab=>{const _0x3b3a08=_0x184614;existsSync('./sessions/md_'+_0x190eab+'/creds.json')?(io['emit'](_0x3b3a08(0x20b),{'device':_0x190eab,'status':_0x3b3a08(0x18d)}),deleteSession(_0x190eab)):io['emit'](_0x3b3a08(0x20b),{'device':_0x190eab,'status':_0x3b3a08(0x18d)});});});const webhook=async(_0x4cacc2,_0x4818c3,_0x27c07e,_0xe5121d,_0x4c4a9d)=>{const _0xc825c7=_0x1e8304;var _0x32b6e7={'from':formatPhone(_0x4cacc2),'message':_0x4818c3};_0x3820ac(_0x4c4a9d,{'method':_0xc825c7(0x161),'headers':{'Content-Type':_0xc825c7(0x17b)},'body':JSON['stringify'](_0x32b6e7)})[_0xc825c7(0x1cf)](_0x4f614d=>_0x4f614d[_0xc825c7(0x209)]())[_0xc825c7(0x1cf)](_0x37b50b=>{const _0x13e447=_0xc825c7;if(_0x37b50b!=null){if(_0x37b50b[_0x13e447(0x1c1)]==0x0)_0x37b50b[_0x13e447(0x1c6)][_0x13e447(0x15d)]&&_0xe5121d['sendMessage'](_0x4cacc2,{'text':_0x37b50b[_0x13e447(0x1c6)]['text']});else{if(_0x37b50b[_0x13e447(0x1c1)]==0x1)_0x37b50b[_0x13e447(0x1c6)][_0x13e447(0x22c)]&&_0x37b50b[_0x13e447(0x1c6)]['url']&&_0xe5121d[_0x13e447(0x1e3)](_0x4cacc2,{'image':{'url':_0x37b50b[_0x13e447(0x1c6)]['url']},'caption':_0x37b50b[_0x13e447(0x1c6)][_0x13e447(0x22c)]});else{if(_0x37b50b[_0x13e447(0x1c1)]==0x2){if(_0x37b50b['message'][_0x13e447(0x22c)]&&_0x37b50b[_0x13e447(0x1c6)]['url']&&_0x37b50b[_0x13e447(0x1c6)][_0x13e447(0x19b)]){const _0x38d412=_0x37b50b[_0x13e447(0x1c6)][_0x13e447(0x1f1)][_0x13e447(0x18a)]('.')['pop']();let _0x44d4f6;switch(_0x38d412){case _0x13e447(0x22a):_0x44d4f6=_0x13e447(0x208);break;case _0x13e447(0x16f):_0x44d4f6='application/excel';break;case _0x13e447(0x1ef):_0x44d4f6=_0x13e447(0x193);break;case'docx':_0x44d4f6=_0x13e447(0x220);break;case _0x13e447(0x140):_0x44d4f6=_0x13e447(0x166);break;case _0x13e447(0x20a):_0x44d4f6=_0x13e447(0x17f);break;default:_0x44d4f6=_0x13e447(0x208);}_0xe5121d[_0x13e447(0x1e3)](_0x4cacc2,{'document':{'url':_0x37b50b[_0x13e447(0x1c6)]['url']},'caption':_0x37b50b[_0x13e447(0x1c6)][_0x13e447(0x22c)],'mimetype':_0x44d4f6,'fileName':_0x37b50b['message']['filename']+'.'+_0x38d412});}}else{if(_0x37b50b['cType']==0x3){if(_0x37b50b[_0x13e447(0x1c6)][_0x13e447(0x15d)]&&_0x37b50b['message'][_0x13e447(0x152)]&&_0x37b50b[_0x13e447(0x1c6)][_0x13e447(0x19a)]&&_0x37b50b[_0x13e447(0x175)]){const _0x1eef05=_0x37b50b['message'][_0x13e447(0x19a)]['split']('|'),_0x3435f5=_0x37b50b[_0x13e447(0x175)];let _0x29e10f=[];if(_0x3435f5[0x0]){if(_0x3435f5[0x0][_0x13e447(0x159)]==0x1)_0x29e10f=[..._0x29e10f,{'index':0x1,'urlButton':{'displayText':_0x3435f5[0x0][_0x13e447(0x15d)],'url':_0x3435f5[0x0][_0x13e447(0x1d9)]}}];else{if(_0x3435f5[0x0][_0x13e447(0x159)]==0x2)_0x29e10f=[..._0x29e10f,{'index':0x1,'callButton':{'displayText':_0x3435f5[0x0][_0x13e447(0x15d)],'phoneNumber':_0x3435f5[0x0]['data']}}];else _0x3435f5[0x0][_0x13e447(0x159)]==0x0&&(_0x29e10f=[..._0x29e10f,{'index':0x1,'quickReplyButton':{'displayText':_0x3435f5[0x0]['text'],'id':_0x3435f5[0x0][_0x13e447(0x1d9)]}}]);}}if(_0x3435f5[0x1]){if(_0x3435f5[0x1][_0x13e447(0x159)]==0x1)_0x29e10f=[..._0x29e10f,{'index':0x2,'urlButton':{'displayText':_0x3435f5[0x1]['text'],'url':_0x3435f5[0x1][_0x13e447(0x1d9)]}}];else{if(_0x3435f5[0x1][_0x13e447(0x159)]==0x2)_0x29e10f=[..._0x29e10f,{'index':0x2,'callButton':{'displayText':_0x3435f5[0x1][_0x13e447(0x15d)],'phoneNumber':_0x3435f5[0x1][_0x13e447(0x1d9)]}}];else _0x3435f5[0x1][_0x13e447(0x159)]==0x0&&(_0x29e10f=[..._0x29e10f,{'index':0x2,'quickReplyButton':{'displayText':_0x3435f5[0x1]['text'],'id':_0x3435f5[0x1][_0x13e447(0x1d9)]}}]);}}if(_0x3435f5[0x2]){if(_0x3435f5[0x2][_0x13e447(0x159)]==0x1)_0x29e10f=[..._0x29e10f,{'index':0x3,'urlButton':{'displayText':_0x3435f5[0x2]['text'],'url':_0x3435f5[0x2][_0x13e447(0x1d9)]}}];else{if(_0x3435f5[0x2][_0x13e447(0x159)]==0x2)_0x29e10f=[..._0x29e10f,{'index':0x3,'callButton':{'displayText':_0x3435f5[0x2][_0x13e447(0x15d)],'phoneNumber':_0x3435f5[0x2]['data']}}];else _0x3435f5[0x2]['type']==0x0&&(_0x29e10f=[..._0x29e10f,{'index':0x3,'quickReplyButton':{'displayText':_0x3435f5[0x2]['text'],'id':_0x3435f5[0x2]['data']}}]);}}if(_0x1eef05[0x0]=='true'){const _0x40d6d0={'image':{'url':_0x1eef05[0x1]},'text':_0x37b50b['message'][_0x13e447(0x15d)],'footer':_0x37b50b['message'][_0x13e447(0x152)],'templateButtons':_0x29e10f,'viewOnce':!![]};_0xe5121d[_0x13e447(0x1e3)](_0x4cacc2,_0x40d6d0);}else{const _0x4e0cdd={'text':_0x37b50b[_0x13e447(0x1c6)][_0x13e447(0x15d)],'footer':_0x37b50b[_0x13e447(0x1c6)]['footer'],'templateButtons':_0x29e10f,'viewOnce':!![]};_0xe5121d[_0x13e447(0x1e3)](_0x4cacc2,_0x4e0cdd);}}}}}}}})[_0xc825c7(0x1b9)](_0x69a54b=>{const _0x1a7da6=_0xc825c7;console[_0x1a7da6(0x15e)]('Error:',_0x69a54b);});},getSession=_0x53adcf=>{const _0x45ee2f=_0x1e8304;return sessions[_0x45ee2f(0x1f6)](_0x53adcf)??null;},deleteSession=(_0x4812d7,_0x442284=![])=>{const _0x3da9b5=_0x1e8304,_0xd26a57=(_0x442284?_0x3da9b5(0x1ea):_0x3da9b5(0x1ca))+_0x4812d7+(_0x442284?'.json':''),_0x35a428=_0x4812d7+_0x3da9b5(0x1eb),_0x5ee1b2={'force':!![],'recursive':!![]};rmSync(sessionsDir(_0xd26a57),_0x5ee1b2),rmSync(sessionsDir(_0x35a428),_0x5ee1b2),sessions[_0x3da9b5(0x227)](_0x4812d7),retries[_0x3da9b5(0x227)](_0x4812d7);},getChatList=(_0x46cf8a,_0x439518=![])=>{const _0x4b396a=_0x1e8304,_0x574c95=_0x439518?_0x4b396a(0x1d5):'@s.whatsapp.net';return getSession(_0x46cf8a)[_0x4b396a(0x18b)]['chats'][_0x4b396a(0x1f3)](_0x1ffae1=>{const _0x362a6c=_0x4b396a;return _0x1ffae1['id'][_0x362a6c(0x14f)](_0x574c95);});},isExists=async(_0x42f444,_0x22297b,_0x46f61a=![])=>{const _0x28f304=_0x1e8304;try{let _0x4aad5e;if(_0x46f61a)return _0x4aad5e=await _0x42f444['groupMetadata'](_0x22297b),Boolean(_0x4aad5e['id']);return _0x42f444['isLegacy']?_0x4aad5e=await _0x42f444['onWhatsApp'](_0x22297b):[_0x4aad5e]=await _0x42f444['onWhatsApp'](_0x22297b),_0x4aad5e[_0x28f304(0x191)];}catch{return![];}},getProfilePicture=async(_0x2f3679,_0x2d21d2)=>{const _0xa4203=_0x1e8304;let _0x8bf0e5='';try{_0x8bf0e5=await _0x2f3679[_0xa4203(0x1fa)](_0x2d21d2,'image');}catch{_0x8bf0e5=_0xa4203(0x1ab);}return _0x8bf0e5;},sendMessage=async(_0x3b43c2,_0x254a91,_0x1eb086,_0x5ba5b2=0x3e8)=>{const _0x22ea29=_0x1e8304;try{return await delay(parseInt(_0x5ba5b2)),_0x3b43c2[_0x22ea29(0x1e3)](_0x254a91,_0x1eb086);}catch{return Promise[_0x22ea29(0x17e)](null);}},sendMessageText=async(_0xfe9f68,_0x6dabc3,_0x56a0f0,_0x7ac63a=0x3e8)=>{const _0x2a672e=_0x1e8304;try{return await delay(parseInt(_0x7ac63a)),await _0xfe9f68[_0x2a672e(0x1c7)](_0x2a672e(0x1c9),_0x6dabc3),_0xfe9f68['sendMessage'](_0x6dabc3,{'text':_0x56a0f0});}catch(_0x197499){return Promise[_0x2a672e(0x17e)](null);}},sendMessageMedia=async(_0x5d571d,_0x1f9558,_0x3c4861,_0x38783b,_0x1f266b=0x3e8)=>{const _0x21982e=_0x1e8304;try{await delay(parseInt(_0x1f266b)),await _0x5d571d[_0x21982e(0x1c7)](_0x21982e(0x1c9),_0x1f9558);if(_0x38783b[_0x21982e(0x1f1)]==null||_0x38783b[_0x21982e(0x1f1)]==undefined||_0x38783b[_0x21982e(0x1f1)]=='')return _0x5d571d[_0x21982e(0x1e3)](_0x1f9558,{'text':_0x3c4861});const _0x2366fd=_0x38783b[_0x21982e(0x1f1)][_0x21982e(0x1fc)](_0x38783b['url']['lastIndexOf']('.')+0x1,_0x38783b[_0x21982e(0x1f1)][_0x21982e(0x156)]),_0x652e09=_0x38783b[_0x21982e(0x1f1)][_0x21982e(0x1fc)](_0x38783b[_0x21982e(0x1f1)][_0x21982e(0x225)]('/')+0x1,_0x38783b[_0x21982e(0x1f1)][_0x21982e(0x156)]),_0x19dce2=[{'type':'image','mime':[_0x21982e(0x231),_0x21982e(0x1f8),_0x21982e(0x143)]},{'type':_0x21982e(0x145),'mime':[_0x21982e(0x22a),_0x21982e(0x20a),'docx',_0x21982e(0x1a0),_0x21982e(0x22b),_0x21982e(0x16f),_0x21982e(0x1ef),_0x21982e(0x140)]},{'type':_0x21982e(0x21e),'mime':['mp4',_0x21982e(0x13f),'mkv']},{'type':'audio','mime':[_0x21982e(0x1ed)]}];if(_0x38783b['type']==0x1)return _0x19dce2[0x0][_0x21982e(0x200)][_0x21982e(0x141)](_0x2366fd)?_0x5d571d[_0x21982e(0x1e3)](_0x1f9558,{'image':{'url':_0x38783b['url']},'caption':_0x3c4861}):_0x5d571d[_0x21982e(0x1e3)](_0x1f9558,{'text':_0x3c4861});else{if(_0x38783b[_0x21982e(0x159)]==0x2){if(_0x19dce2[0x1][_0x21982e(0x200)]['includes'](_0x2366fd)){let _0x5d6927;switch(_0x2366fd){case _0x21982e(0x22a):_0x5d6927='application/pdf';break;case _0x21982e(0x20a):_0x5d6927=_0x21982e(0x17f);break;case _0x21982e(0x215):_0x5d6927=_0x21982e(0x220);break;case'ppt':_0x5d6927=_0x21982e(0x1a6);break;case _0x21982e(0x22b):_0x5d6927=_0x21982e(0x15c);break;case _0x21982e(0x16f):_0x5d6927=_0x21982e(0x19c);break;case _0x21982e(0x1ef):_0x5d6927='application/vnd.openxmlformats-officedocument.spreadsheetml.sheet';break;case _0x21982e(0x140):_0x5d6927=_0x21982e(0x166);break;default:_0x5d6927=_0x21982e(0x208);}return _0x5d571d['sendMessage'](_0x1f9558,{'document':{'url':_0x38783b[_0x21982e(0x1f1)]},'fileName':_0x652e09,'mimetype':_0x5d6927,'caption':_0x3c4861});}else return _0x5d571d['sendMessage'](_0x1f9558,{'text':_0x3c4861});}else return _0x38783b[_0x21982e(0x159)]==0x3?_0x19dce2[0x3][_0x21982e(0x200)]['includes'](_0x2366fd)?_0x5d571d[_0x21982e(0x1e3)](_0x1f9558,{'audio':{'url':_0x38783b[_0x21982e(0x1f1)]},'mimetype':_0x21982e(0x1e7)}):_0x5d571d[_0x21982e(0x1e3)](_0x1f9558,{'text':_0x3c4861}):_0x5d571d['sendMessage'](_0x1f9558,{'text':_0x3c4861});}}catch(_0x2db033){return Promise[_0x21982e(0x17e)](null);}},sendMessageContact=async(_0x11f1a3,_0x7d0f9d,_0x2673ad,_0x1c444e=0x3e8)=>{const _0x228461=_0x1e8304;try{await delay(parseInt(_0x1c444e)),await _0x11f1a3[_0x228461(0x1c7)](_0x228461(0x1c9),_0x7d0f9d);const _0x53ad68=_0x228461(0x21a)+_0x228461(0x153)+'FN:'+_0x2673ad[_0x228461(0x221)]+'\x0a'+_0x228461(0x21d)+_0x2673ad[_0x228461(0x164)]+';\x0a'+_0x228461(0x1d4)+_0x2673ad['phone']+':+'+_0x2673ad['phone']+'\x0a'+_0x228461(0x167);return _0x11f1a3[_0x228461(0x1e3)](_0x7d0f9d,{'contacts':{'displayName':_0x2673ad[_0x228461(0x221)],'contacts':[{'vcard':_0x53ad68}]}});}catch(_0x2f2919){return Promise[_0x228461(0x17e)](null);}},sendMessageLocation=async(_0x48af33,_0x147df3,_0x331f3a,_0x140e22=0x3e8)=>{const _0x19783d=_0x1e8304;try{return await delay(parseInt(_0x140e22)),await _0x48af33[_0x19783d(0x1c7)]('composing',_0x147df3),_0x48af33[_0x19783d(0x1e3)](_0x147df3,{'location':{'degreesLatitude':_0x331f3a[_0x19783d(0x230)],'degreesLongitude':_0x331f3a[_0x19783d(0x15f)]}});}catch(_0x5043b4){return Promise[_0x19783d(0x17e)](null);}},sendMessageButton=async(_0x19c8a6,_0x4b4459,_0x40dadc,_0x3cf6da,_0x2d1923,_0x21b5e8=0x3e8)=>{const _0x5d865e=_0x1e8304;try{await delay(parseInt(_0x21b5e8)),await _0x19c8a6[_0x5d865e(0x1c7)](_0x5d865e(0x1c9),_0x4b4459);(_0x2d1923['Is']==''||_0x2d1923['Is']==undefined||_0x2d1923['Is']==null)&&(_0x2d1923['Is']='false');const _0x1c580e=[{'type':_0x5d865e(0x155),'mime':[_0x5d865e(0x231),'jpg',_0x5d865e(0x143)]}],_0x4938de=_0x2d1923[_0x5d865e(0x1f1)][_0x5d865e(0x1fc)](_0x2d1923[_0x5d865e(0x1f1)][_0x5d865e(0x225)]('.')+0x1,_0x2d1923[_0x5d865e(0x1f1)]['length']);let _0x169708;switch(_0x3cf6da[_0x5d865e(0x156)]){case 0x1:_0x169708=[{'buttonId':_0x3cf6da[0x0]['data'],'buttonText':{'displayText':_0x3cf6da[0x0][_0x5d865e(0x15d)]},'type':0x1}];break;case 0x2:_0x169708=[{'buttonId':_0x3cf6da[0x0][_0x5d865e(0x1d9)],'buttonText':{'displayText':_0x3cf6da[0x0][_0x5d865e(0x15d)]},'type':0x1},{'buttonId':_0x3cf6da[0x1][_0x5d865e(0x1d9)],'buttonText':{'displayText':_0x3cf6da[0x1][_0x5d865e(0x15d)]},'type':0x1}];break;case 0x3:_0x169708=[{'buttonId':_0x3cf6da[0x0][_0x5d865e(0x1d9)],'buttonText':{'displayText':_0x3cf6da[0x0][_0x5d865e(0x15d)]},'type':0x1},{'buttonId':_0x3cf6da[0x1][_0x5d865e(0x1d9)],'buttonText':{'displayText':_0x3cf6da[0x1]['text']},'type':0x1},{'buttonId':_0x3cf6da[0x2][_0x5d865e(0x1d9)],'buttonText':{'displayText':_0x3cf6da[0x2][_0x5d865e(0x15d)]},'type':0x1}];break;default:_0x169708=[{'buttonId':_0x5d865e(0x15e),'buttonText':{'displayText':_0x5d865e(0x15e)},'type':0x1}];}if(_0x2d1923['Is']==!![]){if(_0x2d1923[_0x5d865e(0x1f1)]==''){const _0x402c4e={'text':_0x40dadc[_0x5d865e(0x22c)],'footer':_0x40dadc[_0x5d865e(0x152)],'buttons':_0x169708,'headerType':0x1,'viewOnce':!![]};return _0x19c8a6[_0x5d865e(0x1e3)](_0x4b4459,_0x402c4e);}else{if(_0x1c580e[0x0]['mime'][_0x5d865e(0x141)](_0x4938de)){const _0x3e4289={'image':{'url':_0x2d1923[_0x5d865e(0x1f1)]},'caption':_0x40dadc[_0x5d865e(0x22c)],'footer':_0x40dadc['footer'],'buttons':_0x169708,'headerType':0x4,'viewOnce':!![]};return _0x19c8a6[_0x5d865e(0x1e3)](_0x4b4459,_0x3e4289);}else{const _0x12a2b4={'text':_0x40dadc['caption'],'footer':_0x40dadc[_0x5d865e(0x152)],'buttons':_0x169708,'headerType':0x1,'viewOnce':!![]};return _0x19c8a6[_0x5d865e(0x1e3)](_0x4b4459,_0x12a2b4);}}}else{const _0x3f537d={'text':_0x40dadc[_0x5d865e(0x22c)],'footer':_0x40dadc[_0x5d865e(0x152)],'buttons':_0x169708,'headerType':0x1,'viewOnce':!![]};return _0x19c8a6[_0x5d865e(0x1e3)](_0x4b4459,_0x3f537d);}}catch(_0x11bea3){return Promise[_0x5d865e(0x17e)](null);}},sendMessageTemplate=async(_0x50d121,_0x566159,_0x39cd08,_0x385acf,_0xb20452,_0xea53f9=0x3e8)=>{const _0x34b401=_0x1e8304;try{await delay(parseInt(_0xea53f9)),await _0x50d121[_0x34b401(0x1c7)](_0x34b401(0x1c9),_0x566159);(_0xb20452['Is']==''||_0xb20452['Is']==undefined||_0xb20452['Is']==null)&&(_0xb20452['Is']=_0x34b401(0x229));const _0xecee61=[{'type':'image','mime':[_0x34b401(0x231),_0x34b401(0x1f8),_0x34b401(0x143)]}],_0x44fe01=_0xb20452[_0x34b401(0x1f1)][_0x34b401(0x1fc)](_0xb20452[_0x34b401(0x1f1)][_0x34b401(0x225)]('.')+0x1,_0xb20452[_0x34b401(0x1f1)][_0x34b401(0x156)]);let _0x2a713d=[];if(_0x385acf[0x0]){if(_0x385acf[0x0][_0x34b401(0x159)]==0x1)_0x2a713d=[..._0x2a713d,{'index':0x1,'urlButton':{'displayText':_0x385acf[0x0][_0x34b401(0x15d)],'url':_0x385acf[0x0][_0x34b401(0x1d9)]}}];else{if(_0x385acf[0x0][_0x34b401(0x159)]==0x2)_0x2a713d=[..._0x2a713d,{'index':0x1,'callButton':{'displayText':_0x385acf[0x0]['text'],'phoneNumber':_0x385acf[0x0][_0x34b401(0x1d9)]}}];else _0x385acf[0x0]['type']==0x0&&(_0x2a713d=[..._0x2a713d,{'index':0x1,'quickReplyButton':{'displayText':_0x385acf[0x0][_0x34b401(0x15d)],'id':_0x385acf[0x0][_0x34b401(0x1d9)]}}]);}}if(_0x385acf[0x1]){if(_0x385acf[0x1][_0x34b401(0x159)]==0x1)_0x2a713d=[..._0x2a713d,{'index':0x2,'urlButton':{'displayText':_0x385acf[0x1][_0x34b401(0x15d)],'url':_0x385acf[0x1][_0x34b401(0x1d9)]}}];else{if(_0x385acf[0x1][_0x34b401(0x159)]==0x2)_0x2a713d=[..._0x2a713d,{'index':0x2,'callButton':{'displayText':_0x385acf[0x1][_0x34b401(0x15d)],'phoneNumber':_0x385acf[0x1][_0x34b401(0x1d9)]}}];else _0x385acf[0x1][_0x34b401(0x159)]==0x0&&(_0x2a713d=[..._0x2a713d,{'index':0x2,'quickReplyButton':{'displayText':_0x385acf[0x1][_0x34b401(0x15d)],'id':_0x385acf[0x1][_0x34b401(0x1d9)]}}]);}}if(_0x385acf[0x2]){if(_0x385acf[0x2][_0x34b401(0x159)]==0x1)_0x2a713d=[..._0x2a713d,{'index':0x3,'urlButton':{'displayText':_0x385acf[0x2][_0x34b401(0x15d)],'url':_0x385acf[0x2][_0x34b401(0x1d9)]}}];else{if(_0x385acf[0x2][_0x34b401(0x159)]==0x2)_0x2a713d=[..._0x2a713d,{'index':0x3,'callButton':{'displayText':_0x385acf[0x2][_0x34b401(0x15d)],'phoneNumber':_0x385acf[0x2][_0x34b401(0x1d9)]}}];else _0x385acf[0x2][_0x34b401(0x159)]==0x0&&(_0x2a713d=[..._0x2a713d,{'index':0x3,'quickReplyButton':{'displayText':_0x385acf[0x2][_0x34b401(0x15d)],'id':_0x385acf[0x2][_0x34b401(0x1d9)]}}]);}}if(_0xb20452['Is']==!![]){if(_0xb20452[_0x34b401(0x1f1)]==''){const _0x1dd8ba={'text':_0x39cd08[_0x34b401(0x22c)],'footer':_0x39cd08[_0x34b401(0x152)],'templateButtons':_0x2a713d,'viewOnce':!![]};return _0x50d121[_0x34b401(0x1e3)](_0x566159,_0x1dd8ba);}else{if(_0xecee61[0x0][_0x34b401(0x200)][_0x34b401(0x141)](_0x44fe01)){const _0x49ce07={'image':{'url':_0xb20452[_0x34b401(0x1f1)]},'caption':_0x39cd08['caption'],'footer':_0x39cd08[_0x34b401(0x152)],'templateButtons':_0x2a713d,'viewOnce':!![]};return _0x50d121['sendMessage'](_0x566159,_0x49ce07);}else{const _0x506b62={'text':_0x39cd08[_0x34b401(0x22c)],'footer':_0x39cd08[_0x34b401(0x152)],'templateButtons':_0x2a713d,'viewOnce':!![]};return _0x50d121[_0x34b401(0x1e3)](_0x566159,_0x506b62);}}}else{const _0x2cb413={'text':_0x39cd08[_0x34b401(0x22c)],'footer':_0x39cd08['footer'],'templateButtons':_0x2a713d,'viewOnce':!![]};return _0x50d121[_0x34b401(0x1e3)](_0x566159,_0x2cb413);}}catch(_0x82c8f0){return Promise[_0x34b401(0x17e)](null);}},sendMessageList=async(_0x41c90c,_0x569802,_0x1d28a9=0x3e8)=>{const _0x48688f=_0x1e8304;try{await delay(parseInt(_0x1d28a9)),await _0x41c90c['sendPresenceUpdate'](_0x48688f(0x1c9),_0x569802);const _0x15076d=[{'rows':[{'title':_0x48688f(0x18c),'rowId':_0x48688f(0x218)},{'title':_0x48688f(0x1ba),'rowId':_0x48688f(0x203)}]}],_0x1bea78={'text':_0x48688f(0x1dc),'footer':_0x48688f(0x1fe),'title':_0x48688f(0x1de),'buttonText':'Required,\x20text\x20on\x20the\x20button\x20to\x20view\x20the\x20list','sections':_0x15076d,'viewOnce':!![]};return _0x41c90c[_0x48688f(0x1e3)](_0x569802,_0x1bea78);}catch(_0x4ca667){return Promise[_0x48688f(0x17e)](null);}},formatPhone=_0x4ced7a=>{const _0x344aae=_0x1e8304;if(_0x4ced7a[_0x344aae(0x14f)](_0x344aae(0x1f9)))return _0x4ced7a;let _0x4a29dd=_0x4ced7a[_0x344aae(0x177)](/\D/g,'');return _0x4a29dd+=_0x344aae(0x1f9);},formatGroup=_0x3d492a=>{const _0x355c3e=_0x1e8304;if(_0x3d492a[_0x355c3e(0x14f)](_0x355c3e(0x1d5)))return _0x3d492a;let _0x2f029f=_0x3d492a[_0x355c3e(0x177)](/[^\d-]/g,'');return _0x2f029f+=_0x355c3e(0x1d5);},formatPhoneRemove=_0x41ee3e=>{const _0x393dab=_0x1e8304;if(_0x41ee3e[_0x393dab(0x14f)](_0x393dab(0x1f9)))return _0x41ee3e[_0x393dab(0x177)](_0x393dab(0x1f9),'');else{if(_0x41ee3e[_0x393dab(0x14f)](_0x393dab(0x1d5)))return _0x41ee3e;}},cleanup=()=>{const _0x41c57b=_0x1e8304;console['log'](_0x41c57b(0x170)),sessions[_0x41c57b(0x181)]((_0x456927,_0x477b5a)=>{const _0x594720=_0x41c57b;!_0x456927[_0x594720(0x1ad)]&&_0x456927[_0x594720(0x18b)][_0x594720(0x1df)](sessionsDir(_0x477b5a+_0x594720(0x1eb)));});},init=()=>{readdir(sessionsDir(),(_0xdeab13,_0x4f327d)=>{const _0x3c4c21=_0x1cab;if(_0xdeab13)throw _0xdeab13;for(const _0x31f6e8 of _0x4f327d){if(!_0x31f6e8['startsWith'](_0x3c4c21(0x1ca))&&!_0x31f6e8['startsWith']('legacy_')||_0x31f6e8['endsWith'](_0x3c4c21(0x13d)))continue;const _0x3295f9=_0x31f6e8[_0x3c4c21(0x177)](_0x3c4c21(0x1b3),''),_0x571599=_0x3295f9['split']('_',0x1)[0x0]!=='md',_0x5274f7=_0x3295f9[_0x3c4c21(0x1fc)](_0x571599?0x7:0x3);createSession(_0x5274f7,_0x571599);}});};export{isSessionExists,createSession,getSession,deleteSession,getChatList,isExists,sendMessage,formatPhone,formatGroup,cleanup,init};function _0x3a58(){const _0x4b9b17=['url','name','filter','chats','+07:00','get','groupMetadata','jpg','@s.whatsapp.net','profilePictureUrl','delay','substring','72CppBdr','nice\x20footer,\x20link:\x20https://google.com','statusCode','mime','headersSent','selectedButtonId','option2','update','participants','buttonsResponseMessage','%name%','application/pdf','json','doc','statusDevice','selectedRowId','\x27\x20AND\x20jid\x20=\x20\x27','connected','execute','readyState','user','strokeStyle','Safari','indexOf','docx','UPDATE\x20devices\x20SET\x20connected\x20=\x20\x27true\x27\x20WHERE\x20jid\x20=\x20\x27','documentMessage','option1','notify','BEGIN:VCARD\x0a','key','env','ORG:','video','21jBIAAA','application/vnd.openxmlformats-officedocument.wordprocessingml.document','fullname','Disconnected','ChatGPT','all','lastIndexOf','messageTimestamp','delete','listMessage','false','pdf','pptx','caption','rgba(0,0,0,0.5)','TY\x20Studio\x20DEV','5791494hXpRsM','latitude','png','116462JpFayK','_store','pushname','3gp','zip','includes','true','jpeg','./sessions/md_','document','[ai]','button1','group','5458297zFdNgS','creds','getContext','open','selectedId','log','endsWith','replaceAll','bind','footer','VERSION:3.0\x0a','settingServer','image','length','Connecting','INSERT\x20INTO\x20messages_receiver\x20VALUES\x20(NULL,?,\x20?,\x20?,\x20?,\x20?,\x20?,\x20current_timestamp())','type','SELECT\x20*\x20FROM\x20qrcode_devices_history\x20WHERE\x20jid\x20=\x20\x27','createTable','application/vnd.openxmlformats-officedocument.presentationml.presentation','text','error','longitude','templateButtonReplyMessage','POST','/creds.json','SELECT\x20*\x20FROM\x20autoreply\x20WHERE\x20keyword=\x20?\x20AND\x20jid=\x20?','organization','\x27,\x20\x27','application/zip','END:VCARD','SELECT\x20*\x20FROM\x20devices\x20WHERE\x20jid\x20=\x20?','SELECT\x20*\x20FROM\x20devices\x20WHERE\x20jid\x20=\x20\x27','extendedTextMessage','restartRequired','subject','button2','messagesHistory','xls','Running\x20cleanup\x20before\x20exit.','UPDATE\x20devices\x20SET\x20connected\x20=\x20\x27false\x27\x20WHERE\x20jid\x20=\x20\x27','BLASTJET','\x27\x20WHERE\x20jid\x20=\x20\x27','SELECT\x20webhook\x20FROM\x20devices\x20WHERE\x20jid\x20=\x20?','buttons','dataDevice','replace','messageContextInfo','conversation','DB_USERNAME','application/json','getTime','button3','reject','application/msword','connection.update','forEach','drawImage','toDataURL','messages.upsert','has','type_message','10VUrNYN','remoteJid','850254pYJwie','split','store','Option\x201','Logout\x20session','Unable\x20to\x20create\x20QR\x20code.','AI\x20BlastJET','601434xLfyEo','exists','addDevice','application/vnd.openxmlformats-officedocument.spreadsheetml.sheet','hello\x20world','DELETE\x20FROM\x20qrcode_devices_history\x20WHERE\x20jid\x20=\x20\x27','templateMessage','Authentication\x20is\x20required','OPENAI_API_KEY','webhook','media','filename','application/excel','logout','deviceConnected','./blastjet_qr.png','ppt','groups.update','singleSelectReply','SELECT\x20*\x20FROM\x20contact_group_fetch\x20WHERE\x20id_group\x20=\x20\x27','fromMe','connect','application/vnd.ms-powerpoint','104xjExoN','5AIjjPW','personal','shift','https://i.ibb.co/khHDTHq/people-not-image.png','stroke','isLegacy','setting','undefined','getById','3402076rsurQh','Reconnecting...','.json','readFromFile','set','creds.update','INSERT\x20INTO\x20qrcode_devices_history\x20(jid,\x20qr)\x20VALUES\x20(\x27','fetchGroupID','catch','Option\x202','Connected','createConnection','7PYBjdG','DB_PASSWORD','../sessions','response','cType','DB.json','beginPath','status@broadcast','silent','message','sendPresenceUpdate','utf8mb4','composing','md_','chats.set','device','DB_NAME','target','then','create','listResponseMessage','videoMessage','keys','TEL;type=CELL;type=VOICE;waid=','@g.us','close','OpenAI','getAll','data','query','getByRow','This\x20is\x20a\x20list','connection','Amazing\x20boldfaced\x20list\x20title','writeToFile','RECONNECT_INTERVAL','emit','DB_HOST','sendMessage','Unable\x20to\x20create\x20session.','participant','6299183uYsNHH','audio/mp4','imageMessage','encryptString','legacy_','_store.json','qrCodereceiver','mp3','reduce','xlsx','QR\x20code\x20received,\x20please\x20scan\x20the\x20QR\x20code.'];_0x3a58=function(){return _0x4b9b17;};return _0x3a58();}